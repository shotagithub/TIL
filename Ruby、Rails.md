# わかりやすいActiveRecordメソッド
## new,all,findの違いを明確に！
### 2023/02/10

new,all,findはデータベースのデータをインスタンスかするコマンドという共通点がある。
ではその明確な違いは何か？
- newはテーブルそのものをインスタンス化する。
- allはテーブル内に存在するレコードを全てインスタンス化する。
- findは特定のレコードをインスタンス化する。


文章だとわかりにくいのでテーブル形式の図で。
````ruby
@sample = Sample.new

````
テーブル自体をインスタンス化するので、空のレコードも拾ってくるイメージ
| id | content | comment |
| ---| ------- | ------- |
| 1  |   内容１  | コメント１ |
| 2  |   内容２  | コメント２ |
| 3  |   内容３  | コメント３ |
|    |         |         |
|    |         |         |

````ruby
@sample = Sample.all
````
存在するレコードをインスタンス化するので空のレコードは存在しないイメージ
| id | content | comment |
| ---| ------- | ------- |
| 1  |   内容１  | コメント１ |
| 2  |   内容２  | コメント２ |
| 3  |   内容３  | コメント３ |

````ruby
@sample = Sample.find(1)
````
指定したレコードをインスタンス化するのでもちろん空のレコードは存在しない
| id | content | comment |
| ---| ------- | ------- |
| 1  |   内容１  | コメント１ |


# nilを使う際の注意点
### 2023/02/09

nilは何も存在しないこと。  
例えば
````ruby
if sample == nil
````
の様にするとsample自体が存在するか否かを判定する。  
sampleに中身が存在するかを判定したい場合には
````ruby
if sample[0] == nil
````
といった記述にしなければならない。

ただ、冗長な記述になる可能性があるので  
中身があるかないかを判定したいだけならば、
````ruby
if sample.present?
````
とするのがベター。
